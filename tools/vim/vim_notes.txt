vim笔记

1.	一些有趣的用法

	a.	宏记录功能

		1.	normal模式下直接按下：q{register}（register一般是字母，不是像vim命
			令一样：:qa），此时vim命令行中会出现“记录中”

		2.	此后进行的任何操作都会被记录在寄存器{register}中

		3.	normal模式下直接按下：q，即可停止记录

		4.	normal模式下直接按下：@{register}，即可调用{register}中的宏重复操作
			同样支持：2@{register}这样的多次执行 

	b.	编辑过程中使用shell

		1.	vim命令行：:!{shell command}，即可直接执行shell命令并暂时跳出vim

			a.	:r !{shell command}可以将输出结果读取到当前编辑
				tip：:r!date可以读取当前系统时间到当前编辑

			b.	:w !{sheel command}可以将输出结果输出到vim命令行

		2.	vim命令行：:shell

			a.	即可暂时进入到shell环境中

			b.	执行完成后在shell命令行中输入：$exit，即可回到vim中

			c.	#todo

		3.	<ctrl-z>

			a.	暂时后台挂起vim回到shell环境中

			b.	shell中：$>fg，即可回到之前挂起的进程（详见fg命令）

2.	vim命令行不常用功能

	a.	查找：“:/foo”向下查找，“:?foo”向上查找

		1.	配置文件中已经

			a.	set ingnorecase（默认大小写不敏感）

			b.	set smartcase（如果查找中有大写字母则敏感）；

		2.	手动切换大小写敏感：“:/foo\c”大小写不敏感，“:/foo\C”大小写敏感

		3.	normal模式下“n”按之前查找方向查找；“N”之前查找方向反向查找

		4.	normal模式下“*”向下查找当前单词，“g*”则查找所有“被包含”当前单词

	b.	替换：“:s/foo/bar”

		1.	指定替换范围：默认只替换当前行

			a.	手动指定具体行号：”:2,4s/foo/bar“（左闭右开，仅2、3行）

			b.	特殊符号

				1.	全文替换”%“：”:%s/foo/bar”

				2.	第一行”^“：“:^,4s/foo/bar“

				3.	当前行”.“：”:.,6s/foo/bar“

				4.	末尾行”$“：”:4,$s/foo/bar"

			c.	visual模式下，手动选择区域后”:“，vim命令行自动补全为“:`<,`>“，
				即代表选择部分

		2.	替换标志

			a.	大小写敏感

				1.	大小写不敏感“i”、”\c“：“:%s/foo/bar/i”或”:%s/foo\c/bar“

				2.	大小写敏感“I”、“\C”：“%s/foo/bar/I”或“:%s/foo\C/bar”

			b.	全局替换（替换每行全部模式）：”:%s/foo/bar/g“

				1.	默认情况下只替换首个模式：“foo,foobar”被替换为”bar,foobar“

				2.	全局替换模式下：”foo,foobar”被替换为”bar,barbar”

			c.	交互（确认）替换：“:%s/foo/bar/c”，每次替换前会询问

	c.	放弃修改、重新加载、保存

		1.	:e!：放弃本次修改（和:q!不同在于不会退出vim）

		2.	:bufdo e!：放弃vim所有已打开文件修改

		3.	:e：重新加载文件

		4.	:buffdo e：重新加载vim所有已打开文件

		5.	:saveas new_file_name：另存为，不删除原文件

	d.	多行语句："|"管道符可以用于隔开多个命令
		:echom "bar" | echom "foo"

3.	normal模式下快捷键

	a.	f/F：当前行“向前/向后”查找当前字符，‘;’、‘,’表示“同向/反向”重复之前查找操作

	b.	<ctrl-i>/<ctrl-o>：跳至下一个/上一个编辑处（可以跨文件）

	c.	n|：跳至当前行第n列（不是字符，是状态栏里的列），默认是第1列

	d.	J：合并行，同vim命令：join

4.	vim不常用命令

	a.	vim -r：常看交换文件

	b.	vim -S session-file：打开session的方式启动vim

		1.	需要配合vim命令行:mksession[!] session-file先创建session文件
			（记录vim当前的状态，包括buff区已加载文件）

		2.	也可以直接进入vim，命令行:source session-file载入session
